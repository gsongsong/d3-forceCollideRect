var d3forceCollideRect;(()=>{"use strict";var t={d:(i,n)=>{for(var r in n)t.o(n,r)&&!t.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:n[r]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};function n(t,i,n,r){if(isNaN(i)||isNaN(n))return t;var e,h,o,s,a,u,l,f,c,_=t._root,y={data:r},d=t._x0,x=t._y0,v=t._x1,p=t._y1;if(!_)return t._root=y,t;for(;_.length;)if((u=i>=(h=(d+v)/2))?d=h:v=h,(l=n>=(o=(x+p)/2))?x=o:p=o,e=_,!(_=_[f=l<<1|u]))return e[f]=y,t;if(s=+t._x.call(null,_.data),a=+t._y.call(null,_.data),i===s&&n===a)return y.next=_,e?e[f]=y:t._root=y,t;do{e=e?e[f]=new Array(4):t._root=new Array(4),(u=i>=(h=(d+v)/2))?d=h:v=h,(l=n>=(o=(x+p)/2))?x=o:p=o}while((f=l<<1|u)==(c=(a>=o)<<1|s>=h));return e[c]=_,e[f]=y,t}function r(t,i,n,r,e){this.node=t,this.x0=i,this.y0=n,this.x1=r,this.y1=e}function e(t){return t[0]}function h(t){return t[1]}function o(t,i,n){var r=new s(null==i?e:i,null==n?h:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function s(t,i,n,r,e,h){this._x=t,this._y=i,this._x0=n,this._y0=r,this._x1=e,this._y1=h,this._root=void 0}function a(t){for(var i={data:t.data},n=i;t=t.next;)n=n.next={data:t.data};return i}t.r(i),t.d(i,{collideRect:()=>d});var u=o.prototype=s.prototype;u.copy=function(){var t,i,n=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=a(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var e=0;e<4;++e)(i=r.source[e])&&(i.length?t.push({source:i,target:r.target[e]=new Array(4)}):r.target[e]=a(i));return n},u.add=function(t){const i=+this._x.call(null,t),r=+this._y.call(null,t);return n(this.cover(i,r),i,r,t)},u.addAll=function(t){var i,r,e,h,o=t.length,s=new Array(o),a=new Array(o),u=1/0,l=1/0,f=-1/0,c=-1/0;for(r=0;r<o;++r)isNaN(e=+this._x.call(null,i=t[r]))||isNaN(h=+this._y.call(null,i))||(s[r]=e,a[r]=h,e<u&&(u=e),e>f&&(f=e),h<l&&(l=h),h>c&&(c=h));if(u>f||l>c)return this;for(this.cover(u,l).cover(f,c),r=0;r<o;++r)n(this,s[r],a[r],t[r]);return this},u.cover=function(t,i){if(isNaN(t=+t)||isNaN(i=+i))return this;var n=this._x0,r=this._y0,e=this._x1,h=this._y1;if(isNaN(n))e=(n=Math.floor(t))+1,h=(r=Math.floor(i))+1;else{for(var o,s,a=e-n||1,u=this._root;n>t||t>=e||r>i||i>=h;)switch(s=(i<r)<<1|t<n,(o=new Array(4))[s]=u,u=o,a*=2,s){case 0:e=n+a,h=r+a;break;case 1:n=e-a,h=r+a;break;case 2:e=n+a,r=h-a;break;case 3:n=e-a,r=h-a}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=e,this._y1=h,this},u.data=function(){var t=[];return this.visit((function(i){if(!i.length)do{t.push(i.data)}while(i=i.next)})),t},u.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},u.find=function(t,i,n){var e,h,o,s,a,u,l,f=this._x0,c=this._y0,_=this._x1,y=this._y1,d=[],x=this._root;for(x&&d.push(new r(x,f,c,_,y)),null==n?n=1/0:(f=t-n,c=i-n,_=t+n,y=i+n,n*=n);u=d.pop();)if(!(!(x=u.node)||(h=u.x0)>_||(o=u.y0)>y||(s=u.x1)<f||(a=u.y1)<c))if(x.length){var v=(h+s)/2,p=(o+a)/2;d.push(new r(x[3],v,p,s,a),new r(x[2],h,p,v,a),new r(x[1],v,o,s,p),new r(x[0],h,o,v,p)),(l=(i>=p)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var g=t-+this._x.call(null,x.data),w=i-+this._y.call(null,x.data),N=g*g+w*w;if(N<n){var m=Math.sqrt(n=N);f=t-m,c=i-m,_=t+m,y=i+m,e=x.data}}return e},u.remove=function(t){if(isNaN(h=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var i,n,r,e,h,o,s,a,u,l,f,c,_=this._root,y=this._x0,d=this._y0,x=this._x1,v=this._y1;if(!_)return this;if(_.length)for(;;){if((u=h>=(s=(y+x)/2))?y=s:x=s,(l=o>=(a=(d+v)/2))?d=a:v=a,i=_,!(_=_[f=l<<1|u]))return this;if(!_.length)break;(i[f+1&3]||i[f+2&3]||i[f+3&3])&&(n=i,c=f)}for(;_.data!==t;)if(r=_,!(_=_.next))return this;return(e=_.next)&&delete _.next,r?(e?r.next=e:delete r.next,this):i?(e?i[f]=e:delete i[f],(_=i[0]||i[1]||i[2]||i[3])&&_===(i[3]||i[2]||i[1]||i[0])&&!_.length&&(n?n[c]=_:this._root=_),this):(this._root=e,this)},u.removeAll=function(t){for(var i=0,n=t.length;i<n;++i)this.remove(t[i]);return this},u.root=function(){return this._root},u.size=function(){var t=0;return this.visit((function(i){if(!i.length)do{++t}while(i=i.next)})),t},u.visit=function(t){var i,n,e,h,o,s,a=[],u=this._root;for(u&&a.push(new r(u,this._x0,this._y0,this._x1,this._y1));i=a.pop();)if(!t(u=i.node,e=i.x0,h=i.y0,o=i.x1,s=i.y1)&&u.length){var l=(e+o)/2,f=(h+s)/2;(n=u[3])&&a.push(new r(n,l,f,o,s)),(n=u[2])&&a.push(new r(n,e,f,l,s)),(n=u[1])&&a.push(new r(n,l,h,o,f)),(n=u[0])&&a.push(new r(n,e,h,l,f))}return this},u.visitAfter=function(t){var i,n=[],e=[];for(this._root&&n.push(new r(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var h=i.node;if(h.length){var o,s=i.x0,a=i.y0,u=i.x1,l=i.y1,f=(s+u)/2,c=(a+l)/2;(o=h[0])&&n.push(new r(o,s,a,f,c)),(o=h[1])&&n.push(new r(o,f,a,u,c)),(o=h[2])&&n.push(new r(o,s,c,f,l)),(o=h[3])&&n.push(new r(o,f,c,u,l))}e.push(i)}for(;i=e.pop();)t(i.node,i.x0,i.y0,i.x1,i.y1);return this},u.x=function(t){return arguments.length?(this._x=t,this):this._x},u.y=function(t){return arguments.length?(this._y=t,this):this._y};var l=function(){return l=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},l.apply(this,arguments)};function f(t){return function(){return t}}function c(t){return 1e-6*(t()-.5)}function _(t){return t.x+t.vx}function y(t){return t.y+t.vy}function d(t){var i,n,r,e=1,h=1;function s(){for(var t,s,u,f,d,x,v,p,g=i.length,w=0;w<h;++w)for(s=o(i,_,y).visitAfter(a),t=0;t<g;++t)u=i[t],x=l({},n[u.index]),v=Math.hypot(x.width/2,x.height/2),p=v*v,f=u.x+u.vx,d=u.y+u.vy,s.visit(N);function N(t,i,n,h,o){var s=t.data,a=Math.hypot(t.dim.width/2,t.dim.height/2),_=l({},t.dim),y=x.width+_.width,g=x.height+_.height,w=Math.hypot(y/2,g/2);if(!s)return i>f+w||h<f-w||n>d+w||o<d-w;if(s.index>u.index){var N=f-s.x-s.vx,m=d-s.y-s.vy,b=N*N+m*m;Math.abs(N)<y/2&&Math.abs(m)<g/2&&(0===N&&(b+=(N=c(r))*N),0===m&&(b+=(m=c(r))*m),b=(w-(b=Math.sqrt(b)))/b*e,u.vx+=(N*=b)*(w=(v*=a)/(p+a)),u.vy+=(m*=b)*w,s.vx-=N*(w=1-w),s.vy-=m*w)}}}function a(t){if(t.data)return t.dim=l({},n[t.data.index]);t.dim={width:0,height:0};for(var i=0;i<4;++i)t[i]&&Math.hypot(t[i].dim.width,t[i].dim.height)>Math.hypot(t.dim.width,t.dim.height)&&(t.dim=l({},t[i].dim))}function u(){if(i){var r,e,h=i.length;for(n=new Array(h),r=0;r<h;++r)e=i[r],n[e.index]=l({},t(e,r,i))}}return"function"!=typeof t&&(t=f(null==t?{width:1,height:1}:l({},t))),s.initialize=function(t,n){i=t,r=n,u()},s.iterations=function(t){return arguments.length?(h=+t,s):h},s.strength=function(t){return arguments.length?(e=+t,s):e},s.dim=function(i){return arguments.length?(t="function"==typeof i?i:f(l({},i)),u(),s):l({},t)},s}d3forceCollideRect=i})();